<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link type="text/css" rel="stylesheet" href="/css/styles.css" />
    <script>
        function refreshPage() {
            // Получаем текущий URL страницы
            var currentUrl = window.location.href;
            // Перезагружаем страницу по текущему URL
            window.location.href = currentUrl;
        }
    </script>
</head>
<body>
    <h1>Управление UNO</h1>
    <h3>{{error}}</h3>
    <body>
        <button class="setup ACT" onclick="refreshPage()">Обновить</button>
    </body>
    <h2>Текущее время UNO {{time}}</h2>
    
    <h3>Уличное освещение</h3>
    <form action="/relay" method="POST">
        <button 
            type="submit" 
            name="R0"
            value="{{RstatusR0}}"
            class="button {{statusR0}}">{{statusR0}}</button>
    </form>
    <h3>Подогрев двигателя</h3>
    <form action="/relay" method="POST">
        <button 
            type="submit" 
            name="R1" 
            value="{{RstatusR1}}"
            class="button {{statusR1}}">{{statusR1}}</button>
        <button
            type="submit" 
            name="R1" 
            value="30"
            class="button {{statusR1}}">on 30 min</button>
        <button 
            type="submit" 
            name="R1" 
            value="60"
            class="button {{statusR1}}">on 60 min</button>
        <button 
            type="submit" 
            name="R1" 
            value="90"
            class="button {{statusR1}}">on 90 min</button>
    </form>
    
    <h3>Гирлянды</h3>
    <form action="/relay" method="POST">
        <button 
            type="submit" 
            name="R2" 
            value="{{RstatusR2}}" 
            class="button {{statusR2}}">{{statusR2}}</button>
    </form>

    <h3>Режим гирлянд №1</h3>
    <form action="/relay" method="POST">
        <p>Время включения: {{timeR2M0ON}}</p>
        <p></p>Время выключения: {{timeR2M0OFF}}</p>
        <button 
            type="submit" 
            name="R2M0" 
            value="{{RstatusR2M0}}"
            class="button2 {{statusR2M0}}">{{statusR2M0}}</button>
    </form>
    <form action="/relay" method="POST">
        <label>Часы ON: <input type="number" name="H_on" min="0" max="23" placeholder="чч"></label>
        <label>Минуты ON: <input type="number" name="M_on" min="0" max="59" placeholder="мм"></label>
        <label>Часы OFF: <input type="number" name="H_off" min="0" max="23" placeholder="чч"></label>
        <label>Минуты OFF: <input type="number" name="M_off" min="0" max="59" placeholder="мм"></label>
        <button 
            type="submit"
            name="install"
            value="0"
            class="setup ACT">установить</button>
    </form>
    <h3>Режим гирлянд №2</h3>
    <form action="/relay" method="POST">
        <p>Время включения: {{timeR2M1ON}}</p>
        <p></p>Время выключения: {{timeR2M1OFF}}</p>
        <button 
            type="submit" 
            name="R2M1" 
            value="{{RstatusR2M1}}"
            class="button2 {{statusR2M1}}">{{statusR2M1}}</button>
    </form>
    <form action="/relay" method="POST">
        <label>Часы ON: <input type="number" name="H_on" min="0" max="23" placeholder="чч"></label>
        <label>Минуты ON: <input type="number" name="M_on" min="0" max="59" placeholder="мм"></label>
        <label>Часы OFF: <input type="number" name="H_off" min="0" max="23" placeholder="чч"></label>
        <label>Минуты OFF: <input type="number" name="M_off" min="0" max="59" placeholder="мм"></label>
        <button 
            type="submit"
            name="install"
            value="1"
            class="setup ACT">установить</button>
    </form>
    <h3>Установить время на UNO:</h3>
    <form action="/relay" method="POST">
        <label>Часы: <input type="number" name="hour" min="0" max="23" placeholder="чч"></label>
        <label>Минуты: <input type="number" name="minute" min="0" max="59" placeholder="мм"></label>
        <label>День: <input type="number" name="day" min="1" max="31" placeholder="дд"></label>
        <label>Месяц: <input type="number" name="month" min="1" max="12" placeholder="мм"></label>
        <label>Год: <input type="number" name="year" min="2000" max="2100" placeholder="гггг"></label>
        <button 
            type="submit"
            name="install" 
            value="2"
            class="setup ACT">установить</button>
    </form>
</body>
</html>